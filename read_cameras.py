import os
import argparse
from utils.easy_utils import read_camera_new


camera_config = {
    "sparse": {
        "val": {
            "001_1_seq0": {
                "train": ["29", "08", "51", "52", "47", "28", "15", "12"],
                "test": ["18", "38", "33", "17", "10", "02", "46", "19"],
            },
            "012_0_seq0": {
                "train": ["29", "08", "51", "52", "47", "28", "15", "12"],
                "test": ["18", "38", "33", "17", "10", "02", "46", "19"],
            }
        },
        "test": {
            "004_1_seq0": {
                "train": ["27", "07", "49", "50", "45", "26", "13", "11"],
                "test": ["16", "36", "31", "15", "09", "02", "44", "17"],
            },
            "006_1_seq0": {
                "train": ["28", "07", "50", "51", "46", "27", "14", "11"],
                "test": ["17", "37", "32", "16", "09", "01", "45", "18"],
            },
            "007_0_seq0": {
                "train": ["29", "08", "51", "52", "47", "28", "15", "12"],
                "test": ["18", "38", "33", "17", "10", "02", "46", "19"],
            },
            "009_0_seq0": {
                "train": ["28", "07", "49", "50", "45", "27", "14", "11"],
                "test": ["17", "36", "31", "16", "09", "01", "44", "18"],
            },
            "011_0_seq0": {
                "train": ["29", "08", "51", "52", "47", "28", "15", "12"],
                "test": ["18", "38", "33", "17", "10", "02", "46", "19"],
            }
        }
    },
    "compression": {
        "val": {
            "001_1_seq0": {
                "train": ["00", "01", "02", "03", "04", "06", "07", "08", "09", "10", "11", "13", "14", "16", "17", "19", "20", "21", "22", "23", "26", "27", "29", "30", "31", "32", "33", "34", "35", "37", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "51", "54", "55", "56", "57", "58", "59", "25"],
                "test": ["25", "18", "36", "38", "05", "52", "50", "28", "24", "15", "53", "12"],
            },
            "012_0_seq0": {
                "train": ["00", "01", "02", "03", "04", "06", "07", "08", "09", "10", "11", "13", "14", "16", "17", "19", "20", "21", "22", "23", "26", "27", "29", "30", "31", "32", "33", "34", "35", "37", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "51", "54", "55", "56", "57", "58", "59", "25"],
                "test": ["25", "18", "36", "38", "05", "52", "50", "28", "24", "15", "53", "12"],
            }
        },
        "test": {
            "004_1_seq1": {
                "train": ["00", "01", "02", "03", "04", "06", "07", "08", "09", "10", "11", "12", "14", "15", "17", "18", "19", "20", "21", "24", "25", "27", "28", "29", "30", "31", "32", "33", "35", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "49", "51", "52", "53", "54", "55", "56", "57"],
                "test": ["24", "17", "35", "37", "04", "51", "49", "27", "23", "14", "52", "53"],
            },
            "006_1_seq1": {
                "train": ["00", "01", "02", "03", "05", "06", "07", "08", "09", "10", "11", "12", "13", "15", "16", "18", "19", "20", "21", "22", "25", "26", "28", "29", "30", "31", "32", "33", "34", "36", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "50", "53", "54", "55", "56", "57", "58"],
                "test": ["24", "17", "35", "37", "04", "51", "49", "27", "23", "14", "52"],
            },
            "007_0_seq1": {
                "train": ["00", "01", "02", "03", "04", "06", "07", "08", "09", "10", "11", "13", "14", "16", "17", "19", "20", "21", "22", "23", "26", "27", "29", "30", "31", "32", "33", "34", "35", "37", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "51", "54", "55", "56", "57", "58", "59"],
                "test": ["25", "18", "36", "38", "05", "52", "50", "28", "24", "15", "53", "12"],
            },
            "008_2_seq1": {
                "train": ["00", "01", "02", "03", "05", "06", "07", "08", "09", "10", "11", "12", "13", "15", "16", "18", "19", "20", "21", "22", "25", "26", "28", "29", "30", "31", "32", "33", "34", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "49", "52", "53", "54", "55", "56", "57"],
                "test": ["24", "17", "35", "04", "50", "48", "27", "23", "14", "51"],
            },
            "011_0_seq1": {
                "train": ["00", "01", "02", "03", "04", "06", "07", "08", "09", "10", "11", "13", "14", "16", "17", "19", "20", "21", "22", "23", "26", "27", "29", "30", "31", "32", "33", "34", "35", "37", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "51", "54", "55", "56", "57", "58", "59"],
                "test": ["25", "18", "36", "38", "05", "52", "28", "24", "15", "53", "12"],
            }
        }
    },
}


if __name__ == "__main__":
    parser = argparse.ArgumentParser()
    parser.add_argument("--path", type=str, default="sparse/val/001_1_seq0")
    train_cameras = read_camera_new(args.path, intri_name="train_intri.yml", extri_name="train_extri.yml")
    test_cameras = read_camera_new(args.path, intri_name="test_intri.yml", extri_name="test_extri.yml")
    """
    All cameras are formatted as PINHOLE camera models.
    Each camera contains: K, R, T
    The image size:
    W = int(K[0, 0] * 2)
    H = int(K[1, 1] * 2)
    """
